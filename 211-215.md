# 211.设计数据结构，要求包括加入和查询字符串的功能，查询字符串时，符合‘.’可以代替任意字符，字符串只包含‘a’-‘z’的字符
1. 构建私有类Node，保存当前对象的下一个Node数组next，是否为字符串末尾的标志leaf
2. 构造函数：创建头节点root
3. 插入函数：构建当前节点变量cur，指向头节点root。遍历字符串，如果当前节点的next数组里，保存当前字符的节点为null，就创建新节点保存，并让cur指向新节点，继续循环。保存完所有字符后，将最后节点的leaf状态置true，代表字符串的末尾
4. 查询字符串函数：调用辅助函数进行查询。构建当前节点变量cur，指向头节点root。变量index指向字符串当前需要查询的字符。遍历字符串，如果index指向字符串的末尾，判断当前节点的leaf是否为true，如果不是，代表树中未保存该字符串，返回false；否则，返回true。如果当前字符是‘.’，遍历当前节点的next数组里非空的节点，调用函数递归求解，如果其中有一个节点的返回结果为true，就返回true；如果没有，则返回false。如果当前字符不是‘.’，则判断在当前节点的next数组里，保存当前字符的节点是否为null，如果是null，说明树中没有保存过该字符串，返回false，否则调用函数继续求解。

```
    private class Node {
        Node[] next;
        boolean leaf;
        public Node() {
            next = new Node[26];
            leaf = false;
        }
    }
    Node root;
    /** Initialize your data structure here. */
    public WordDictionary() {
        root = new Node();
    }
    
    /** Adds a word into the data structure. */
    public void addWord(String word) {
        Node cur = root;
        for (char ch : word.toCharArray()) {
            if (cur.next[ch - 'a'] == null) cur.next[ch - 'a'] = new Node();
            cur = cur.next[ch - 'a'];
        }
        cur.leaf = true;
    }
    
    /** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */
    public boolean search(String word) {
        return helper(word.toCharArray(), 0, root);
    }
    private boolean helper(char[] chs, int index, Node cur) {
        int len = chs.length;
        if (index == len) return cur.leaf;
        if (chs[index] == '.') {
            for (int i = 0; i < 26; i++) {
                if (cur.next[i] != null) {
                    if (helper(chs, index + 1, cur.next[i])) return true;
                }
            }
            return false;
        }
        else {
            if (cur.next[chs[index] - 'a'] == null) return false;
            return helper(chs, index + 1, cur.next[chs[index] - 'a']);
        }
    }
```
